{
	"info": {
		"_postman_id": "running-app-api-collection",
		"name": "Running App API",
		"description": "Nike Run Club + 땅따먹기 게임 API 컬렉션",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "인증 API",
			"item": [
				{
					"name": "회원가입",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"username\": \"runner1\",\n  \"email\": \"runner1@example.com\",\n  \"password\": \"securepassword123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/register/",
							"host": ["{{base_url}}"],
							"path": ["api", "auth", "register", ""]
						}
					},
					"response": []
				},
				{
					"name": "로그인",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const jsonData = pm.response.json();",
									"    pm.environment.set(\"access_token\", jsonData.access);",
									"    pm.environment.set(\"refresh_token\", jsonData.refresh);",
									"    pm.environment.set(\"user_id\", jsonData.user.id);",
									"    pm.test(\"로그인 성공\", function () {",
									"        pm.response.to.have.status(200);",
									"        pm.expect(jsonData).to.have.property('access');",
									"        pm.expect(jsonData).to.have.property('refresh');",
									"    });",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"username\": \"runner1\",\n  \"password\": \"securepassword123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/login/",
							"host": ["{{base_url}}"],
							"path": ["api", "auth", "login", ""]
						}
					},
					"response": []
				},
				{
					"name": "토큰 갱신",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const jsonData = pm.response.json();",
									"    pm.environment.set(\"access_token\", jsonData.access);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"refresh\": \"{{refresh_token}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/refresh/",
							"host": ["{{base_url}}"],
							"path": ["api", "auth", "refresh", ""]
						}
					},
					"response": []
				},
				{
					"name": "내 정보 조회",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/auth/me/",
							"host": ["{{base_url}}"],
							"path": ["api", "auth", "me", ""]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "게임 구역 API",
			"item": [
				{
					"name": "게임 구역 목록 조회",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const jsonData = pm.response.json();",
									"    if (jsonData.results && jsonData.results.length > 0) {",
									"        pm.environment.set(\"game_area_id\", jsonData.results[0].id);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/game-areas/?city=서울",
							"host": ["{{base_url}}"],
							"path": ["api", "game-areas", ""],
							"query": [
								{
									"key": "city",
									"value": "서울"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "게임 구역 상세 조회",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/game-areas/{{game_area_id}}/",
							"host": ["{{base_url}}"],
							"path": ["api", "game-areas", "{{game_area_id}}", ""]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "방 API",
			"item": [
				{
					"name": "방 생성",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const jsonData = pm.response.json();",
									"    pm.environment.set(\"room_id\", jsonData.id);",
									"    pm.environment.set(\"invite_code\", jsonData.invite_code);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"한강 러닝 대결\",\n  \"total_participants\": 4,\n  \"start_date\": \"2026-02-01\",\n  \"end_date\": \"2026-02-28\",\n  \"game_area_id\": \"{{game_area_id}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/rooms/",
							"host": ["{{base_url}}"],
							"path": ["api", "rooms", ""]
						}
					},
					"response": []
				},
				{
					"name": "방 목록 조회",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/rooms/?status=ready",
							"host": ["{{base_url}}"],
							"path": ["api", "rooms", ""],
							"query": [
								{
									"key": "status",
									"value": "ready"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "방 상세 조회",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/rooms/{{room_id}}/",
							"host": ["{{base_url}}"],
							"path": ["api", "rooms", "{{room_id}}", ""]
						}
					},
					"response": []
				},
				{
					"name": "방 참가 (초대 코드)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"invite_code\": \"{{invite_code}}\",\n  \"team\": \"B\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/rooms/join/",
							"host": ["{{base_url}}"],
							"path": ["api", "rooms", "join", ""]
						}
					},
					"response": []
				},
				{
					"name": "방 나가기",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/rooms/{{room_id}}/leave/",
							"host": ["{{base_url}}"],
							"path": ["api", "rooms", "{{room_id}}", "leave", ""]
						}
					},
					"response": []
				},
				{
					"name": "팀 변경",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"team\": \"B\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/rooms/{{room_id}}/change-team/",
							"host": ["{{base_url}}"],
							"path": ["api", "rooms", "{{room_id}}", "change-team", ""]
						}
					},
					"response": []
				},
				{
					"name": "방 시작 (방장 전용)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/rooms/{{room_id}}/start/",
							"host": ["{{base_url}}"],
							"path": ["api", "rooms", "{{room_id}}", "start", ""]
						}
					},
					"response": []
				},
				{
					"name": "친구 초대 (방 내에서)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"user_id\": \"{{user_id}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/rooms/{{room_id}}/invite/",
							"host": ["{{base_url}}"],
							"path": ["api", "rooms", "{{room_id}}", "invite", ""]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "러닝 기록 API",
			"item": [
				{
					"name": "기록 시작",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const jsonData = pm.response.json();",
									"    pm.environment.set(\"record_id\", jsonData.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"room_id\": \"{{room_id}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/records/start/",
							"host": ["{{base_url}}"],
							"path": ["api", "records", "start", ""]
						}
					},
					"response": []
				},
				{
					"name": "기록 종료",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"duration_seconds\": 1800,\n  \"distance_meters\": 5000\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/records/{{record_id}}/stop/",
							"host": ["{{base_url}}"],
							"path": ["api", "records", "{{record_id}}", "stop", ""]
						}
					},
					"response": []
				},
				{
					"name": "내 기록 목록",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/records/?year=2026&month=1",
							"host": ["{{base_url}}"],
							"path": ["api", "records", ""],
							"query": [
								{
									"key": "year",
									"value": "2026"
								},
								{
									"key": "month",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "기록 통계",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/records/stats/?period=month",
							"host": ["{{base_url}}"],
							"path": ["api", "records", "stats", ""],
							"query": [
								{
									"key": "period",
									"value": "month"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "친구 API",
			"item": [
				{
					"name": "친구 목록",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/friends/",
							"host": ["{{base_url}}"],
							"path": ["api", "friends", ""]
						}
					},
					"response": []
				},
				{
					"name": "친구 검색",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/friends/search/?q=runner",
							"host": ["{{base_url}}"],
							"path": ["api", "friends", "search", ""],
							"query": [
								{
									"key": "q",
									"value": "runner"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "친구 요청",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const jsonData = pm.response.json();",
									"    if (jsonData.friendship_id) {",
									"        pm.environment.set(\"friendship_id\", jsonData.friendship_id);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"user_id\": \"{{user_id}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/friends/request/",
							"host": ["{{base_url}}"],
							"path": ["api", "friends", "request", ""]
						}
					},
					"response": []
				},
				{
					"name": "친구 요청 수락/거절",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"accept\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/friends/{{friendship_id}}/respond/",
							"host": ["{{base_url}}"],
							"path": ["api", "friends", "{{friendship_id}}", "respond", ""]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "우편함 API",
			"item": [
				{
					"name": "우편함 목록",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const jsonData = pm.response.json();",
									"    if (jsonData.results && jsonData.results.length > 0) {",
									"        pm.environment.set(\"mailbox_id\", jsonData.results[0].id);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/mailbox/",
							"host": ["{{base_url}}"],
							"path": ["api", "mailbox", ""]
						}
					},
					"response": []
				},
				{
					"name": "초대 수락/거절",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"accept\": true,\n  \"team\": \"B\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/mailbox/{{mailbox_id}}/respond/",
							"host": ["{{base_url}}"],
							"path": ["api", "mailbox", "{{mailbox_id}}", "respond", ""]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "리더보드 API",
			"item": [
				{
					"name": "리더보드 조회",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/leaderboard/?room_id={{room_id}}&type=team",
							"host": ["{{base_url}}"],
							"path": ["api", "leaderboard", ""],
							"query": [
								{
									"key": "room_id",
									"value": "{{room_id}}"
								},
								{
									"key": "type",
									"value": "team"
								}
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000",
			"type": "string"
		}
	]
}

